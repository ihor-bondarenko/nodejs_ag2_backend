{"version":3,"sources":["index.js"],"names":["fs","require","xml","_","Alert_1","Server","parseXML","bootstrap","prototype","parseNewAlert","a","alert","default","_this","parser","Parser","self","readFile","__dirname","err","data","parseString","result","isObject","has","xml_1","server","module","exports"],"mappings":"AAAA;;AACA,IAAIA,KAAKC,QAAQ,IAAR,CAAT;AACA,IAAIC,MAAMD,QAAQ,QAAR,CAAV;AACA,IAAIE,IAAIF,QAAQ,QAAR,CAAR;AACA,IAAIG,UAAUH,QAAQ,SAAR,CAAd;AACA,IAAII,SAAU,YAAY;AACtB,aAASA,MAAT,GAAkB;AACd,aAAKC,QAAL;AACH;AACDD,WAAOE,SAAP,GAAmB,YAAY;AAC3B,eAAO,IAAIF,MAAJ,EAAP;AACH,KAFD;AAGAA,WAAOG,SAAP,CAAiBC,aAAjB,GAAiC,UAAUC,CAAV,EAAa;AAC1C,YAAIC,QAAQ,IAAIP,QAAQQ,OAAZ,CAAoBF,CAApB,CAAZ;AACA,eAAOC,KAAP;AACH,KAHD;AAIAN,WAAOG,SAAP,CAAiBF,QAAjB,GAA4B,YAAY;AACpC,YAAIO,QAAQ,IAAZ;AACA,YAAIC,SAAS,IAAIZ,IAAIa,MAAR,EAAb;AACA,YAAIC,OAAO,IAAX;AACAhB,WAAGiB,QAAH,CAAYC,YAAY,UAAxB,EAAoC,UAAUC,GAAV,EAAeC,IAAf,EAAqB;AACrDN,mBAAOO,WAAP,CAAmBD,IAAnB,EAAyB,UAAUD,GAAV,EAAeG,MAAf,EAAuB;AAC5C,oBAAInB,EAAEoB,QAAF,CAAWD,MAAX,KAAsBnB,EAAEqB,GAAF,CAAMF,MAAN,EAAc,OAAd,CAA1B,EAAkD;AAC9C,wBAAIG,QAAQZ,MAAMJ,aAAN,CAAoBa,OAAOX,KAA3B,CAAZ;AACH;AACJ,aAJD;AAKH,SAND;AAOH,KAXD;AAYA,WAAON,MAAP;AACH,CAxBa,EAAd;AAyBA,IAAIqB,SAAS,IAAIrB,MAAJ,EAAb;AACAsB,OAAOC,OAAP,GAAiBF,MAAjB","file":"index.js","sourcesContent":["\"use strict\";\nvar fs = require(\"fs\");\nvar xml = require(\"xml2js\");\nvar _ = require(\"lodash\");\nvar Alert_1 = require(\"./Alert\");\nvar Server = (function () {\n    function Server() {\n        this.parseXML();\n    }\n    Server.bootstrap = function () {\n        return new Server();\n    };\n    Server.prototype.parseNewAlert = function (a) {\n        var alert = new Alert_1.default(a);\n        return alert;\n    };\n    Server.prototype.parseXML = function () {\n        var _this = this;\n        var parser = new xml.Parser();\n        var self = this;\n        fs.readFile(__dirname + \"/CAP.xml\", function (err, data) {\n            parser.parseString(data, function (err, result) {\n                if (_.isObject(result) && _.has(result, \"alert\")) {\n                    var xml_1 = _this.parseNewAlert(result.alert);\n                }\n            });\n        });\n    };\n    return Server;\n}());\nvar server = new Server();\nmodule.exports = server;\n"]}